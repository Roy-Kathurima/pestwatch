{% extends "base.html" %}
{% block content %}
<div class="container">
  <h2>Admin â€” Database viewer</h2>
  <p>Users (latest first)</p>
  <table class="data-table">
    <thead><tr><th>ID</th><th>Fullname</th><th>Email</th><th>Role</th><th>Created</th></tr></thead>
    <tbody>
    {% for u in users %}
      <tr>
        <td>{{ u.id }}</td>
        <td>{{ u.fullname }}</td>
        <td>{{ u.email }}</td>
        <td>{{ u.role }}</td>
        <td>{{ u.created_at }}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>

  <h3>Reports</h3>
  <table class="data-table">
    <thead><tr><th>ID</th><th>Title</th><th>User</th><th>Status</th><th>Created</th></tr></thead>
    <tbody>
    {% for r in reports %}
      <tr>
        <td>{{ r.id }}</td>
        <td>{{ r.title }}</td>
        <td>{{ r.user.fullname }} ({{ r.user.email }})</td>
        <td>{{ r.status }}</td>
        <td>{{ r.created_at }}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
