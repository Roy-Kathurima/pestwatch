{% extends "base.html" %}
{% block content %}
<h2>Admin â€” Database Viewer</h2>

<h3>Users</h3>
<table class="data-table">
  <thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Joined</th></tr></thead>
  <tbody>
  {% for u in users %}
    <tr>
      <td>{{ u.id }}</td>
      <td>{{ u.fullname }}</td>
      <td>{{ u.email }}</td>
      <td>{{ u.created_at.strftime('%Y-%m-%d') }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<h3 style="margin-top:18px;">Reports</h3>
<table class="data-table">
  <thead><tr><th>ID</th><th>Title</th><th>User</th><th>Type</th><th>Severity</th><th>Lat</th><th>Lon</th><th>Verified</th></tr></thead>
  <tbody>
  {% for r in reports %}
    <tr>
      <td>{{ r.id }}</td>
      <td>{{ r.title }}</td>
      <td>{{ r.user.fullname if r.user else 'Anon' }}</td>
      <td>{{ r.pest_type }}</td>
      <td>{{ r.severity }}</td>
      <td>{{ r.latitude or '' }}</td>
      <td>{{ r.longitude or '' }}</td>
      <td>{{ 'Yes' if r.verified else 'No' }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>

{% endblock %}
